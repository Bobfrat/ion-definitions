

DeliveryMode: !enum (values=(DIGEST, UNFILTERED, ABRIDGED), default=DIGEST)

NotificationType: !enum (values=(EMAIL, FILTER), default=EMAIL)

Frequency: !enum (values=(REAL_TIME, BATCH), default=REAL_TIME)

---

# Base class objects....
DeliveryConfig:
  process_definition_id: ""
  processing:
    message_header: ""   # User defined header for the message
    parsing: ""          # Instructions on how to parse the notification to produce an SMS - more than just a string?
  delivery:
    email: ""            # Email address to use. If empty, get user contact-info
    mode: !DeliveryMode  # Delivery mode for email notification based on google groups api
    frequency: !Frequency # for the two kinds of notifications: real_time and batch

---

# Represents a user's standing request (a rule) to receive notifications when certain events
# happen, to be delivered in chosen ways and modalities.
NotificationRequest: !Extends_InformationResource
  type: !NotificationType
  origin: ""           # Event filter by origin
  origin_type: ""      # Event filter by origin type
  event_type: ""       # Event filter by event type
  event_subtype: ""    # Event filter by event subtype
  delivery_config: !DeliveryConfig    # Detailed configuration of notification delivery

---

# For Detection Event
DetectionFilterConfig:
  processing:
    search_string: ""

  delivery: # contains the information to send when an event is detected
    message: ""       # Message to be put in the detection event

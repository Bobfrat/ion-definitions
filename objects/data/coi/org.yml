# Enum for the different categories of Orgs
OrgTypeEnum: !enum (values=(BASIC, MARINE_FACILITY, VIRTUAL_OBSERVATORY, CLASSROOM, LABORATORY, INTERACTIVE_FACILITY), default=BASIC)
---


# Represents a domain of authority that provides the context within which policy applies to registered
# member individuals and resources.
Org: !Extends_TaskableResource
  # Specializes the type of Org
  org_type: !OrgTypeEnum

  # Identifies the institution that operates the Org/Facility
  institution: !Institution

  url: ""

  # An entity that serves as a contact point
  contact: !ContactInformation
---

# Object representing a current proposal for a service agreement. The proposal may contain several items of
# different type, or can be a composite of service agreement proposals.
ServiceAgreementProposal:
  sap_id: ""
  originator: ""  #Who originated the SAP request
  recipient: ""  #Who received the initial SAP request
  sequence_num: 0
  requested_resource_id: []
  conditions: {}
  clauses: {}
---

NegotiationDefinition: !Extends_InformationResource
  pre_condition: []
  accept_action: ""

---

# Enum for the different categories of Negotiations
NegotiationTypeEnum: !enum (values=(ENROLLMENT, USER_ROLE, RESOURCE_USE), default=RESOURCE_USE)

# Enum for the different categories of Negotiations
NegotiationOriginationEnum: !enum (values=(REQUEST, INVITE), default=REQUEST)

---

# Describes a negotiation between multiple system participants with the intent of agreeing
# to a mutual contract with commitments if successful.
Negotiation: !Extends_InformationResource
  type: !NegotiationTypeEnum
  origination: !NegotiationOriginationEnum
  #@ContentType=ServiceAgreementProposal
  sap: []

---

NegotiationRequest: !Extends_InformationResource
  status: "Open"
  status_description: ""

---

UserRequest: !Extends_NegotiationRequest
  org_id: ""     # Will also keep an association but this makes it easier to filter on
  user_id: ""    # Will also keep an association but this makes it easier to filter on

---
EnrollmentRequest: !Extends_UserRequest

RoleRequest: !Extends_UserRequest
  role_name: ""

ResourceRequest: !Extends_UserRequest
  resource_id: ""

---

# Represents a standing obligation of one ION participant to another ION participant.
# Commitments can be tracked and violations against commitments can be sanctioned.
Commitment: !Extends_InformationResource
  org_id: ""
  user_id: ""
---

ResourceCommitment: !Extends_Commitment
  resource_id: ""


---

#This object contains additional information associated with a Marine Facility Org
MarineFacilityOrgExtension: !Extends_ExtendedInformationResource
  #@hasResource=DataProduct
  data_products: []
  #@hasResource=PlatformDevice
  platforms: []
  #@hasResource=PlatformModel
  platform_models: []
  #@hasResource=InstrumentModel
  instrument_models: []
  #@hasResource=InstrumentDevice
  instruments: []
  #@hasResource=InstrumentAgent
  instrument_agents: []
  #@hasResource=DataProcessDefinition
  data_process_definitions: []
  #@hasMembershipInfo
  members: [] # The list of User Info objects
  #@hasRole
  roles: [] # The set of User Roles available in this Observatory
  #@hasRequest
  user_requests: [] # A list of requests associated with this user


name: discovery

docstring: |
   The Discovery service supports finding resources by metadata attributes, potentially applying semantic reasoning

spec: https://confluence.oceanobservatories.org/display/syseng/CIAD+DM+OV+Discovery+Service

dependencies: [resource_registry,catalog_management, index_management]

methods:
  create_view:
    docstring: |
      Creates a view which has the specified search fields, the order in which the search fields are presented
      to a query and a term filter.
      @param view_name Name of the view
      @param description Simple descriptive sentence
      @param fields Search fields
      @param order List of fields to determine order of precendence in which the results are presented
      @param filter Simple term filter
    
    in:
      view_name:   ""
      description: ""
      fields:      []
      order:       []
      filters:     ""
    out:
      view_id:     ""


  read_view:
    in:
      view_id:     ""
    out:
      view:        !View

  update_view:
    in:
      view:        !View
    out:
      success:     True
  
  delete_view:
    in:
      view_id:     ""
    out:
      success:     True

  list_catalogs:
    in:
      view_id:     ""
    out:
      catalogs:    []
  # -----------------

  query:
    in: 
      query: !SearchQuery
    out:
      results: {}

  request:
    docstring: |
      Temporary method exposure for client testing purposes.
    in:
      query: {}
    out:
      results: []

  parse:
    in: 
      search_request: ''
    out:
      success: []
      

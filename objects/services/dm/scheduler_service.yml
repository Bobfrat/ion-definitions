name: scheduler

docstring: |
   The scheduler services provides a timer-like capability for other services and processes. A TimerSchedule resource
   specifies when the receiver wishes to be alerted and subsequent intervals if desired. The alert is delivered as a
   Timer event to which the receiver must subscribe. The creator defines the origin field of the alert, a GUID-based id
   is recommended. The create method returns a timer_id which can be used to cancel the timer. Because the delivery of
   the alert is via the ION messaging framework there is potential for a small deviation in precision.

spec: https://confluence.oceanobservatories.org/display/CIDev/Scheduler+Service (needs updated)

dependencies: [resource_registry]

methods:
  start_timer:
    docstring: Create a timer which will send an alert on expiry. Returns a timer_id which can be used to cancel the timer.
    in:
      timer_schedule: !TimerSchedule
    out:
      timer_id: ""
    throws:
      BadRequest: if timer can not be scheduled

  cancel_timer: Cancels an exisiting timer which has not reached its expire time.
    in:
      timer_id: ""
    out:
    throws:
      NotFound: if timer_id doesn't exist